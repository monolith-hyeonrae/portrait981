[tool.uv.workspace]
members = [
    "libs/visualbase",
    "libs/visualpath/core",
    "libs/visualpath/isolation",
    "libs/visualpath/cli",
    "libs/visualpath/pathway",
    "libs/vpx/plugins/face-detect",
    "libs/vpx/plugins/face-expression",
    "libs/vpx/plugins/body-pose",
    "libs/vpx/plugins/hand-gesture",
    "libs/vpx/sdk",
    "libs/vpx/runner",
    "libs/vpx/viz",
    "apps/facemoment/core",
]

# Local development only: block CPU onnxruntime to prevent GPU .so overwrites.
# In production VenvWorker, each analyzer package installs in its own venv,
# so this override is unnecessary (package isolation resolves the conflict).
[tool.uv]
dev-dependencies = [
    "facemoment[local,dev]",
]
override-dependencies = [
    "onnxruntime ; sys_platform == 'never'",
]

[tool.uv.sources]
facemoment = { workspace = true }
