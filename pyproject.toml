[tool.uv.workspace]
members = [
    "libs/visualbase",
    "libs/visualpath/core",
    "libs/visualpath/isolation",
    "libs/visualpath/cli",
    "libs/visualpath/pathway",
    "libs/vpx/plugins/face-detect",
    "libs/vpx/plugins/face-expression",
    "libs/vpx/plugins/body-pose",
    "libs/vpx/plugins/hand-gesture",
    "libs/vpx/plugins/vision-embed",
    "libs/vpx/sdk",
    "libs/vpx/runner",
    "libs/vpx/viz",
    "apps/momentscan",
    "apps/momentbank",
]

# Local development only: block CPU onnxruntime to prevent GPU .so overwrites.
# In production VenvWorker, each analyzer package installs in its own venv,
# so this override is unnecessary (package isolation resolves the conflict).
# macOS: onnxruntime allowed (CoreML EP for Apple Silicon acceleration)
[tool.uv]
dev-dependencies = [
    "momentscan[local,dev]",
]
override-dependencies = [
    "onnxruntime ; sys_platform != 'linux'",
]

[tool.uv.sources]
momentscan = { workspace = true }
